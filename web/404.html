<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Redirecting...</title>
  <script>
    // GitHub Pages 404 handler
    // Redirect all routes to index.html so Flutter can handle routing
    var path = window.location.pathname;
    var search = window.location.search;
    var hash = window.location.hash;
    
    // Base path for GitHub Pages
    var basePath = '/eug_consultancy';
    
    // Preserve the full path including hash for Flutter routing
    var redirectPath = basePath + '/index.html';
    
    // Convert path to hash for Flutter routing
    // Handle both paths with base path (/eug_consultancy/payment/success) 
    // and without base path (/payment/success) - Stripe redirects
    var routePath = '';
    
    if (path && path.startsWith(basePath)) {
      // Path starts with base path: /eug_consultancy/payment/success
      routePath = path.replace(basePath, '');
    } else if (path && path !== '/' && path !== basePath && path !== basePath + '/') {
      // Path doesn't start with base path but is not root: /payment/success
      // This happens when Stripe redirects directly to /payment/success
      routePath = path;
    }
    
    if (routePath && routePath !== '/') {
      // Ensure route starts with /
      if (!routePath.startsWith('/')) {
        routePath = '/' + routePath;
      }
      redirectPath += '#' + routePath;
    } else if (hash) {
      // If there's already a hash, preserve it
      redirectPath += hash;
    }
    
    if (search) {
      redirectPath += search;
    }
    
    // Redirect to index.html with the route as hash
    window.location.replace(redirectPath);
  </script>
  <meta http-equiv="refresh" content="0;url=/eug_consultancy/index.html">
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>

